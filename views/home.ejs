<!doctype html>
<html>
<%- include('includes/_head.ejs', title); %>
<body class="container">
<%- include('includes/_header.ejs'); %>
<% if(typeof errorUser !== 'undefined'){%>
<div class="d-none" id="userError"></div>
<%}%>
<div class="d-flex justify-content-evenly flex-wrap gap-3">
    <% planets.map(planet =>{ %>
        <div class="card border-0" style="width: 18rem;">
            <img src="/assets/img/<%= planet.img.url %>" class="card-img-top" alt="<%= planet.img.alt %>">
            <div class="card-body bg-secondary text-white">
                <h5 class="card-title"><%= planet.title %></h5>
                <p class="card-text"><%= planet.subtitle %></p>
                <a href="/view/<%=planet.id%>" class="btn btn-primary">En savoir plus</a>
            </div>
        </div>
    <% }) %>
</div>
<div class="toast-container top-0 end-0 p-3">
    <div id="liveToast" class="toast align-items-center text-bg-danger border-0" role="alert" aria-live="assertive"
         aria-atomic="true">
        <div class="d-flex">
            <div id="toastContent" class="toast-body">
                Identifiant ou mot de passe incorrect
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                    aria-label="Close"></button>
        </div>
    </div>
</div>
<%- include('includes/_footer.ejs'); %>
<%- include('includes/_script.ejs'); %>

<script>
    if(document.querySelector('#userError')){
        const toastLiveExample = document.querySelector('#liveToast')
        const toast = new bootstrap.Toast(toastLiveExample)

        toast.show()

        document.querySelector('#modalAccount').click();
    }
</script>
</body>
</html>